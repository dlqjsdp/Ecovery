<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>GreenCycle - ë§ˆì´í˜ì´ì§€</title>
    <!-- CSS íŒŒì¼ ì—°ê²° - Thymeleaf ì •ì  ë¦¬ì†ŒìŠ¤ ê²½ë¡œ -->
    <link rel="stylesheet" th:href="@{/css/mypage-style.css}">
    <!-- êµ¬ê¸€ í°íŠ¸ ì—°ê²° -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
<!-- í—¤ë” ì˜ì—­ -->
<header class="header" id="header">
    <nav class="navbar">
        <div class="nav-container">
            <!-- ë¡œê³  ì„¹ì…˜ - Thymeleaf URL ì²˜ë¦¬ -->
            <a th:href="@{/}" class="logo">
                <span class="logo-icon">ğŸŒ±</span>
                <span class="logo-text">GreenCycle</span>
            </a>

            <!-- ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ -->
            <ul class="nav-menu" id="navMenu">
                <li><a th:href="@{/#home}">í™ˆ</a></li>
                <li><a th:href="@{/#services}">ì„œë¹„ìŠ¤</a></li>
                <li><a th:href="@{/waste-sorting}">ë¶„ë¦¬ë°°ì¶œ</a></li>
                <li><a th:href="@{/free-sharing}">ë¬´ë£Œë‚˜ëˆ”</a></li>
                <li><a th:href="@{/eco-market}">ì—ì½”ë§ˆì¼“</a></li>
                <li><a th:href="@{/eco-talk}">í™˜ê²½ë…í†¡</a></li>
                <li><a th:href="@{/notices}">ê³µì§€ì‚¬í•­</a></li>
            </ul>

            <!-- ìš°ìƒë‹¨ ë²„íŠ¼ ê·¸ë£¹ (ì¥ë°”êµ¬ë‹ˆ + ë¡œê·¸ì•„ì›ƒ) -->
            <div class="auth-buttons">
                <!-- ë§ˆì´í˜ì´ì§€ ë²„íŠ¼ -->
                <a th:href="@{/mypage}" class="btn-login">ë§ˆì´í˜ì´ì§€</a>
                <!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
                <a th:href="@{/member/logout}" class="btn-logout">ë¡œê·¸ì•„ì›ƒ</a>
            </div>

            <!-- ëª¨ë°”ì¼ í–„ë²„ê±° ë©”ë‰´ -->
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
</header>

<!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
<main id="mainContent">
    <!-- í”„ë¡œí•„ ìš”ì•½ (CSSì˜ profile-header íë¦„ ì¬í™œìš©) -->
    <section class="profile-header">
        <div class="container">
            <div class="profile-banner">
                <div class="profile-info">
                    <!-- avatar ëŒ€ì‹  ê³µê°„ë§Œ ë‚¨ê²¨ë„ ë˜ê³  ìƒëµ ê°€ëŠ¥ -->
                    <div class="profile-details">
                        <h1 th:text="${member.nickname} + 'ë‹˜'">ë‹‰ë„¤ì„ë‹˜</h1>
                        <!-- í¬ì¸íŠ¸ë¥¼ stat-card ìŠ¤íƒ€ì¼ë¡œ í‘œì‹œ -->
                        <div class="profile-stats">
                            <div class="stat-card">
                                <div class="stat-number" th:text="${memberPageDto.point}">0</div>
                                <div class="stat-label">ë³´ìœ  í¬ì¸íŠ¸</div>
                            </div>
                        </div>
                        <a th:href="@{/mypage/edit}" class="btn-small">íšŒì›ì •ë³´ ìˆ˜ì •</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ (CSSì˜ quick-actions-unified ì¬í™œìš©) -->
    <section class="unified-dashboard">
        <div class="quick-actions-unified">
            <a th:href="@{/cart/list}">
                <button type="button" class="quick-btn-unified">
                    <span class="quick-icon">ğŸ›’</span>
                    <span>ì¥ë°”êµ¬ë‹ˆ</span>
                </button>
            </a>
            <a th:href="@{/orders}">
                <button type="button" class="quick-btn-unified">
                    <span class="quick-icon">ğŸ“¦</span>
                    <span>êµ¬ë§¤ ì´ë ¥</span>
                </button>
            </a>
        </div>
    </section>
</main>

<!-- í‘¸í„° ì˜ì—­ -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <div class="logo" style="margin-bottom: 20px;">
                    <span class="logo-icon">ğŸŒ±</span>
                    <span class="logo-text">GreenCycle</span>
                </div>
                <p>ì²¨ë‹¨ ê¸°ìˆ ë¡œ ì‹¤í˜„í•˜ëŠ” ìŠ¤ë§ˆíŠ¸í•˜ê³  ì§€ì† ê°€ëŠ¥í•œ í™˜ê²½ í”Œë«í¼</p>
            </div>
            <div class="footer-section">
                <h4>ì„œë¹„ìŠ¤</h4>
                <ul>
                    <li><a th:href="@{/waste-sorting}">ìŠ¤ë§ˆíŠ¸ ë¶„ë¦¬ë°°ì¶œ</a></li>
                    <li><a th:href="@{/free-sharing}">ë¬´ë£Œë‚˜ëˆ”</a></li>
                    <li><a th:href="@{/eco-market}">ì—ì½”ë§ˆì¼“</a></li>
                    <li><a th:href="@{/eco-talk}">í™˜ê²½ë…í†¡</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>íšŒì‚¬ì •ë³´</h4>
                <ul>
                    <li><a th:href="@{/about}">íšŒì‚¬ì†Œê°œ</a></li>
                    <li><a th:href="@{/patents}">ê¸°ìˆ  íŠ¹í—ˆ</a></li>
                    <li><a th:href="@{/research}">ì—°êµ¬ê°œë°œ</a></li>
                    <li><a th:href="@{/careers}">ì±„ìš©ì •ë³´</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>ê³ ê°ì§€ì›</h4>
                <ul>
                    <li><a th:href="@{/contact}">ë¬¸ì˜í•˜ê¸°</a></li>
                    <li><a th:href="@{/guide}">ì´ìš©ê°€ì´ë“œ</a></li>
                    <li><a th:href="@{/support}">ê¸°ìˆ ì§€ì›</a></li>
                    <li><a th:href="@{/customer-service}">ê³ ê°ì„¼í„°</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 GreenCycle. All rights reserved.</p>
            <div class="footer-links">
                <a th:href="@{/privacy-policy}">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a th:href="@{/terms}">ì´ìš©ì•½ê´€</a>
            </div>
        </div>
    </div>
</footer>

<!--
&lt;!&ndash; JavaScript íŒŒì¼ ì—°ê²° - Thymeleaf ì •ì  ë¦¬ì†ŒìŠ¤ ê²½ë¡œ &ndash;&gt;
<script th:src="@{/js/mypage-script.js}"></script>
-->

<!--&lt;!&ndash; ë§ˆì´í˜ì´ì§€ ë°ì´í„°ë¥¼ JavaScriptë¡œ ì „ë‹¬ &ndash;&gt;
<script th:inline="javascript">
    // ì„œë²„ì—ì„œ ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ JavaScript ë³€ìˆ˜ë¡œ ì„¤ì •
    var userData = /*[[${user}]]*/ {};
    var userStatsData = /*[[${userStats}]]*/ {};
    var recentActivitiesData = /*[[${recentActivities}]]*/ [];

    // ì „ì—­ ë³€ìˆ˜ë¡œ ì„¤ì •
    window.userData = userData;
    window.userStatsData = userStatsData;
    window.recentActivitiesData = recentActivitiesData;

    // ê¸°ê°„ ë³€ê²½ í•¨ìˆ˜
    function changePeriod(period) {
        const currentUrl = new URL(window.location);
        currentUrl.searchParams.set('period', period);
        window.location.href = currentUrl.toString();
    }

    // í”„ë¡œí•„ í¸ì§‘ í•¨ìˆ˜
    function editProfile() {
        // í”„ë¡œí•„ í¸ì§‘ ëª¨ë‹¬ ë˜ëŠ” í˜ì´ì§€ë¡œ ì´ë™
        location.href = '/mypage/profile/edit';
    }

    // ê°œì¸ì •ë³´ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
    function downloadPersonalData() {
        if (confirm('ê°œì¸ì •ë³´ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            location.href = '/mypage/data/download';
        }
    }

    // íšŒì› íƒˆí‡´ í™•ì¸ í•¨ìˆ˜
    function confirmDeleteAccount() {
        if (confirm('ì •ë§ë¡œ íšŒì› íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
            location.href = '/mypage/account/delete';
        }
    }
</script>-->
</body>
</html>