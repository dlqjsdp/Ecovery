<!--
    μ—μ½”λ§μΌ“ μ£Όλ¬Έ/κ²°μ  νμ΄μ§€
    @author : sehui
    @fileName : order-payment.html
    @since : 250801
    @history
     - 250801 | sehui | μ—μ½”λ§μΌ“ μƒν’ μƒμ„Έ νμ΄μ§€ μΌλ¶€ μμ •(th:* μμ •, κ³µν†µ λ μ΄μ•„μ›ƒ μ¶”κ°€)
     - 250801 | sehui | κµν™/λ°ν’, μ£Όλ¬Έ μ·¨μ† ν™•μΈ λ¨λ‹¬ μ‚­μ 
     - 250801 | sehui | μ„λ²„μ—μ„ μ „λ‹¬λ°›μ€ DTOλ¥Ό JS μ „λ‹¬ν•κΈ° μ„ν•΄ <input> μ¶”κ°€
-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">

<head th:with="pageTitle='μ—μ½”λ§μΌ“'">
    <title>μ—μ½”λ§μΌ“ μ£Όλ¬Έ/κ²°μ </title>

    <!-- μ¶”κ°€ css -->
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/order-detail.css}">
    </th:block>

</head>
<body>
<!-- λ³Έλ¬Έ fragment -->
<div layout:fragment="content">
    <!-- λ©”μΈ μ½ν…μΈ  μμ—­ -->
    <main id="mainContent">

        <!-- μ„λ²„μ—μ„ μ „λ‹¬λ°›μ€ λ°μ΄ν„° JS μ „λ‹¬μ© -->
        <input type="hidden" id="orderItemRequests" th:value="${#object.orderItemRequests}">

        <!-- νμ΄μ§€ μƒλ‹¨ λ„¤λΉ„κ²μ΄μ… (breadcrumb) -->
        <section class="breadcrumb-section">
            <div class="container">
                <nav class="breadcrumb">
                    <a th:href="@{/}">ν™</a>
                    <span class="breadcrumb-separator">></span>
                    <a th:href="@{/mypage}">λ§μ΄νμ΄μ§€</a>
                    <span class="breadcrumb-separator">></span>
                    <span class="current-page">μ£Όλ¬Έ/κ²°μ </span>
                </nav>
            </div>
        </section>

        <!-- μ£Όλ¬Έμƒμ„Έ νμ΄μ§€ ν—¤λ” -->
        <section class="order-header">
            <div class="container">
                <div class="order-header-content">
                    <div class="order-title-section">
                        <h1 class="order-title">μ£Όλ¬Έ/κ²°μ </h1>
                        <p class="order-subtitle">μ£Όλ¬Έ μ •λ³΄λ¥Ό ν™•μΈν•κ³ , λ°°μ†΅μ§€ μ…λ ¥ λ° κ²°μ λ¥Ό μ§„ν–‰ν•΄μ£Όμ„Έμ”.</p>
                    </div>
                    <!-- λ’¤λ΅κ°€κΈ° λ²„νΌ -->
                    <button class="btn-back" onclick="history.back()">
                        <span class="back-icon">β†</span>
                        <span class="back-text">λ’¤λ΅κ°€κΈ°</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- μ£Όλ¬Έ μ •λ³΄ μ„Ήμ… -->
        <section class="order-details">
            <div class="container">

                <!-- μ£Όλ¬Έ κΈ°λ³Έ μ •λ³΄ μΉ΄λ“ -->
                <div class="order-info-card">
                    <div class="card-header">
                        <h2 class="card-title">π“‹ μ£Όλ¬Έ μ •λ³΄</h2>
                    </div>
                    <div class="order-basic-info">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">μ£Όλ¬Έλ²νΈ</span>
                                <span class="info-value" id="orderNumber">orderUuid</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">μ£Όλ¬ΈμΌμ</span>
                                <span class="info-value" id="orderDate">2025λ…„ 1μ›” 15μΌ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- μ£Όλ¬Έ μƒν’ μ •λ³΄ μΉ΄λ“ -->
                <div class="order-product-card">
                    <div class="card-header">
                        <h2 class="card-title">π“¦ μ£Όλ¬Έ μƒν’</h2>
                        <span class="product-count" id="productCount">μ΄ nκ° μƒν’</span>
                    </div>
                    <div class="product-list" id="productList">
                        <!-- JSλ΅ λ™μ μΌλ΅ μ£Όλ¬Έ μƒν’ λ©λ΅ μ¶”κ°€ -->
                    </div>
                </div>

                <!-- λ°°μ†΅ μ •λ³΄ μΉ΄λ“ -->
                <div class="delivery-info-card">
                    <div class="card-header">
                        <h2 class="card-title">π λ°°μ†΅ μ •λ³΄</h2>
                    </div>
                    <div class="delivery-details">
                        <!-- λ°°μ†΅μ§€ μ •λ³΄ μ…λ ¥ -->
                        <div class="delivery-address">
                            <h3 class="address-title">λ°°μ†΅μ§€ μ •λ³΄</h3>
                            <div class="address-details">
                                <div class="address-item">
                                    <span class="address-label">λ°›λ”λ¶„</span>
                                    <input type="text" class="address-value" id="orderName" placeholder="μ΄λ¦„">
                                </div>
                                <div class="address-item">
                                    <span class="address-label">μ—°λ½μ²</span>
                                    <input type="number" class="address-value" id="phoneNumber" placeholder="μ—°λ½μ²">
                                </div>
                                <div class="address-item">
                                    <span class="address-label">μ£Όμ†</span>
                                    <input type="text" id="roadAddress" placeholder="λ„λ΅λ… μ£Όμ†" readonly >
                                    <button type="button" id="btn-search-address">μ£Όμ† κ²€μƒ‰</button>
                                </div>
                                <div class="address-item">
                                    <span class="address-label"></span> <!-- κ°„κ²© λ§μ¶”κΈ° μ„ν•΄ μ¶”κ°€, css μμ • ν›„ μ‚­μ  μμ •-->
                                    <input type="text" id="detailAddress" placeholder="μƒμ„Έ μ£Όμ†">
                                </div>
                                <div class="address-item">
                                    <span class="address-label">λ°°μ†΅μ”μ²­μ‚¬ν•­</span>
                                    <input class="address-value" id="delivery-memo" placeholder="λ°°μ†΅ μ”μ²­μ‚¬ν•­">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- κ²°μ  μ •λ³΄ μΉ΄λ“ -->
                <div class="payment-info-card">
                    <div class="card-header">
                        <h2 class="card-title">π’³ κ²°μ  μ •λ³΄</h2>
                    </div>
                    <div class="payment-details">
                        <!-- κ²°μ  κΈμ•΅ μ”μ•½ -->
                        <div class="payment-summary">
                            <div class="summary-row">
                                <span class="summary-label">μƒν’κΈμ•΅</span>
                                <span class="summary-value" id="productAmount">0μ›</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">λ°°μ†΅λΉ„</span>
                                <span class="summary-value" id="deliveryFee">λ¬΄λ£λ°°μ†΅</span>
                            </div>
                            <div class="summary-row used-points" id="usedPointsWrapper" style="display: none">
                                <span class="summary-label">μ‚¬μ© ν¬μΈνΈ</span>
                                <span class="summary-value" id="usedPoints">0p</span>
                            </div>
                            <div class="summary-row total">
                                <span class="summary-label">μµμΆ…κ²°μ κΈμ•΅</span>
                                <span class="summary-value" id="finalAmount">1,000μ›</span>
                            </div>
                        </div>

                        <!-- κ²°μ  μ •λ³΄ -->
                        <div class="payment-method">
                            <h3 class="method-title">κ²°μ  λ°©λ²•</h3>
                            <div class="method-details">
                                <!-- κ²°μ  λ²„νΌ ν‘μ‹ -->
                                <div class="method-item">
                                    <button class="btn-action btn-reorder" id="orderBtn">
                                        <span class="btn-icon">π’³</span>
                                        <span class="btn-text">κ²°μ ν•κΈ°</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- μ£Όλ¬Έ κ΄€λ¦¬ λ²„νΌ μ„Ήμ… -->
                <div class="order-actions-card">
                    <!-- μ£Όμμ‚¬ν•­ -->
                    <div class="order-notes">
                        <h3 class="notes-title">π“ μ£Όλ¬Έ κ΄€λ ¨ μ•λ‚΄</h3>
                        <ul class="notes-list">
                            <li>λ°°μ†΅μ™„λ£ ν›„ 7μΌ μ΄λ‚΄μ— κµν™/λ°ν’ μ‹ μ²­μ΄ κ°€λ¥ν•©λ‹λ‹¤.</li>
                            <li>μƒν’ν›„κΈ° μ‘μ„± μ‹ μ¶”κ°€ ν¬μΈνΈλ¥Ό μ λ¦½ν•΄λ“λ¦½λ‹λ‹¤.</li>
                            <li>μΉν™κ²½ ν¬μ¥μ¬ μ‚¬μ©μΌλ΅ μ§€κµ¬λ¥Ό λ³΄νΈν•©λ‹λ‹¤. π</li>
                            <li>λ¬Έμμ‚¬ν•­μ€ κ³ κ°μ„Όν„°(1588-1234) λλ” μ¨λΌμΈμΌλ΅ μ ‘μ κ°€λ¥ν•©λ‹λ‹¤.</li>
                        </ul>
                    </div>
                </div>

                <!-- ν¬μΈνΈ μ λ¦½ μ •λ³΄ - λ΅κ·ΈμΈν• μ‚¬μ©μμ΄κ³  ν¬μΈνΈ μ λ¦½μ΄ μλ” κ²½μ° -->
                <!--                    <div class="points-info-card" id="poinsInfoCard" style="display: none">-->
                <!--                        <div class="card-header">-->
                <!--                            <h2 class="card-title">π ν¬μΈνΈ μ λ¦½</h2>-->
                <!--                        </div>-->
                <!--                        <div class="points-details">-->
                <!--                            <div class="points-earned">-->
                <!--                                <div class="points-icon">π</div>-->
                <!--                                <div class="points-info">-->
                <!--                                    <h3>ν™κ²½ ν¬μΈνΈ μ λ¦½ μ™„λ£!</h3>-->
                <!--                                    <p id="earnedPointsText">ν¬μΈνΈ μ λ¦½ λ‚΄μ©</p>-->
                <!--                                    <div class="points-breakdown" id="pointsBreakdown">-->
                <!--                                    </div>-->
                <!--                                </div>-->
                <!--                            </div>-->
                <!--                        </div>-->
                <!--                    </div>-->
            </div>
        </section>
    </main>
</div>

<!-- μ£Όμ† κ²€μƒ‰ λ¨λ‹¬ -->
<div id="addressModal" style="display: none;">
    <div id="addressSearchContainer"></div>
    <button id="btn-close-modal">λ‹«κΈ°</button>
</div>

<!-- μ¶”κ°€ JS -->
<th:block layout:fragment="script">
    <script th:src="@{/js/order-detail.js}"></script>

    <!-- μΉ΄μΉ΄μ¤ μ£Όμ† κ²€μƒ‰ μ¤ν¬λ¦½νΈ -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

</th:block>
</body>
</html>